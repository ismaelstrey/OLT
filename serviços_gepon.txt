                                 GEM PORT & T-CONT    Fazer controle de banda

                                 criando um perfil de banda 100 down 50 upload

                                          CONTROLE DE BANDA
                                                 ____________________
                             ___________________|                    |
                            |                   |                    |   vlan 10
                   vlan 10  | GEMP PORT DOWLOAD |       T-CONT       | <=========>
                            |___________________|       Upload       |
                                                |____________________|  

=================================================================================================================================
|                                      ** Mostrar todos DBA profile**                                                           |
---------------------------------------------------------------------------------------------------------------------------------
|        enable
|            config#
|                display dba-profile all 
---------------------------------------------------------------------------------------------------------------------------------

=================================================================================================================================
|                                      ** Mostrar detalhes do line profile id 10 **                                             |
---------------------------------------------------------------------------------------------------------------------------------
|        enable
|            config#
|                display ont-lineprofile gpon profile-id 10
---------------------------------------------------------------------------------------------------------------------------------

=================================================================================================================================
|                                      ** Criando um DBA profile de 50M de upload **                                            |
---------------------------------------------------------------------------------------------------------------------------------
|        enable
|            config#
|                dba-profile add profile-id 50 profile-name 50m type4 max 51000
---------------------------------------------------------------------------------------------------------------------------------

=================================================================================================================================
|                                ** Mostrar tablelas de trafico criadas a partir do indice 0 **                                 |
---------------------------------------------------------------------------------------------------------------------------------
|        enable
|            config#
|                display traffic table ip from-index 0 
---------------------------------------------------------------------------------------------------------------------------------

=================================================================================================================================
|                                      ** Criar uma tabela de trafico de 100M **                                                |
---------------------------------------------------------------------------------------------------------------------------------
|        enable
|            config#
|                traffic table ip index 100 name 100m 101000 pir 111000 priority 7 priority-policy local-Setting
---------------------------------------------------------------------------------------------------------------------------------

=================================================================================================================================
|                                             ** Criar um line profile **                                                       |
---------------------------------------------------------------------------------------------------------------------------------
|        enable
|            config#
|                ont-lineprofile gpon profile-id 10 profile-name v-10-up-50m-dw-100m
|                   tcont 1 dba-profile-id 10           //cria o tcont
|                   qos-mode gem-car
|                   gem add 1 eth tcont 1  germ-car 100 // cria o gem port e diz que ele tem um controle de banda
|                   gem mapping 1 1 vlan 10             // aqui coloco qual vlan que vai passar (vlan 10)
|                   commit                              // para salvar
|                   quit                                // para sair
---------------------------------------------------------------------------------------------------------------------------------


=================================================================================================================================
|                                                   ** Mostrar todos service profile **                                         |
---------------------------------------------------------------------------------------------------------------------------------
|        enable
|            config#
|                display ont-srvprofile gpon all // caso onu seja huawei não nescessita criar service profile
---------------------------------------------------------------------------------------------------------------------------------

=================================================================================================================================
|                                                   ** Mostrar service profile id 0 **                                          |
---------------------------------------------------------------------------------------------------------------------------------
|        enable
|            config#
|                display ont-srvprofile gpon profile-id 0
---------------------------------------------------------------------------------------------------------------------------------

=================================================================================================================================
|                                                   ** buscar onus conectadas a OLT **                                          |
---------------------------------------------------------------------------------------------------------------------------------
|        enable
|            config#
|                display ont autofind all
---------------------------------------------------------------------------------------------------------------------------------

=================================================================================================================================
|                                                        ** Adicionar ONU**                                                     |
---------------------------------------------------------------------------------------------------------------------------------
|        enable
|            config#
|                interface gpon 0/1
|                 display ont autofind 0  // aqui tem que especificar a pon no qual a ONU está
|                 ont confirm 1 sn-auth 485757305cc43e omci ont-lineprofile-id 10 ont-srvprofile-id 0 desc nome-do-cliente
|                 ont port native-vlan 1 0 eth 1 vlan 10  // caso a ONU seja BRIDGE pon 1 id da ONU 0 , porta ethernet 1 vlan 10
|                 // a ONU está adicionada agora precisa de asocciar um service port para ela
---------------------------------------- ----------------------------------------------------------------------------------------

=================================================================================================================================
|                                                   ** Mostrar ONU Adicionada **                                                |
---------------------------------------------------------------------------------------------------------------------------------
|        enable
|            config#
|                display ont info summary 1
|                display ont info 1 0      // se eu passar o id me retorna alista completa de informaçoes sobre a ONU.
---------------------------------------- ----------------------------------------------------------------------------------------

=================================================================================================================================
|                                               ** Associar um service port a ONU **                                            |
---------------------------------------------------------------------------------------------------------------------------------
|        enable
|            config#
|                service-port vlan 10 gpon 0/1/1 ont 0 gemport 1 multi-service user-vlan 10            //   sem controle de banda
|                service-port vlan 10 gpon 0/1/1 ont 0 gemport 1 multi-service user-vlan 10 rx-cttr 100 tx-cttr 60 
|                   // o 100 acisionado acima se refere a id da tabela de trafico e o 60 tanbem
|                   // caso tenha sido criado sem o serviçe porte , como posso adicionar ele agora?
|                   display service-port all                                                         // lista todos services port
|                   undo service-port vlan 10 gpon 0/1/1 ont 0 gemport 1 multi-service user-vlan 10                 // removo ele 
|                  service-port vlan 10 gpon 0/1/1 ont 0 gemport 1 multi-service user-vlan 10 rx-cttr 100 tx-cttr 60   //adiciono
---------------------------------------- ----------------------------------------------------------------------------------------

